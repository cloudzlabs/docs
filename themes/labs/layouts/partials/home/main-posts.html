<div class='container'>
    <section id="main-post" class="cover">
        {{ range $index, $main := ( first .Site.Params.settings.recentPostsLength ( where .Data.Pages "Type" "ne" "page" ) ) }}
        {{ if .Params.cover }}
        <article class="cover-story">
            {{- with .Params.cover -}}
            {{- $type := ( printf "%T" . ) -}}
            {{- $isMap := ( not ( eq $type "string" ) ) -}}
            <div class="cover-image" src="{{ $.Site.BaseURL }}{{ if $isMap }}{{ .image }}{{ else }}{{ . }}{{ end }}" style="background-image: url({{ $.Site.BaseURL }}{{ if $isMap }}{{ .image }}{{ else }}{{ . }}{{ end }});"></div>
            {{- end -}}
            <a class="cover-trigger"></a>
            <div class="cover-gradient"></div>
            <div class="cover-header">
                <p class="cover-section">
                    {{ if .Params.tags }}
                        {{ partial "meta/tags" .}}
                    {{ end }}
                </p>
                <h2 class="cover-title">
                    <a href="{{ .URL }}">{{ .Title }}</a>
                </h2>
                <ul class="cover-byline">
                    {{- with .Params.authors -}}
                    {{- $lang := ( $.Params.lang | default $.Lang ) -}}
                    <li>{{ i18n "by" }}&nbsp;
                        {{- range $i, $authorID := . -}}
                        {{- $author := ( index $.Site.Data.authors $authorID ) -}}
                        {{- $i18nAuthor := ( index $author $lang ) -}}
                        {{- $name := ( or $i18nAuthor.name $author.name ) -}}
                        {{- if gt $i 0 }}, {{ end -}}
                        <a href="{{ "/authors/" | relLangURL }}{{ . | urlize }}">{{- $name.display -}}</a>
                        {{- end -}}
                    </li>
                    {{- end -}}
                    {{ if .Site.Params.settings.showReadingTime }}
                    <li>
                        <i class="fa fa-clock-o" aria-hidden="true"></i>
                        {{ i18n "readingTime" .ReadingTime }}
                    </li>
                    {{ end }}
                </ul>
            </div>
        </article>
        {{ end }}
        {{ end }}
    </section>
</div>
